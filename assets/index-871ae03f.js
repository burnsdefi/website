import{a6 as T,a7 as z,a8 as E,a9 as f}from"./index-7059db76.js";import{r as M,a as L,g as w,b as P}from"./index-b0c82161.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{d as V,r as A,b as j,c as F,y as O,G as R,A as U,z as $,C as _,B as e,D as t,H as G,u as i,F as d,I as H,M as g,S as J,P as K,J as Q,K as W,L as q,N as X,E as Y,O as Z,Q as ee,T as te,U as ae}from"./ui-a369edf1.js";import{b as oe,c as se}from"./vue-6bff7c10.js";import{_ as ne}from"./plugin-vueexport-helper-c27b6911.js";const re=p=>(te("data-v-803121bf"),p=p(),ae(),p),ie={class:"mint-container"},le={class:"content"},ce=re(()=>_("div",null,null,-1)),ue=V({__name:"index",setup(p){const{t:l}=T.useI18n(),v=oe(se).smaller("sm"),a=A({value:0,from:0}),s=A({value:0,from:0}),b=j(!1),x=F(()=>Math.floor(a.value/15e6*1e3)/1e3),c=M(),B=L();async function S(){const o=await w();if(o){const n=await B.balanceOf(o.address);s.value=Number(z(n)),setTimeout(()=>{s.from=s.value},1e3)}}async function D(){const o=await w();if(o){b.value=!0;try{const r=await(await o.sendTransaction({to:await c.getAddress(),value:E("0.002")})).wait();r&&(r.logs.filter(u=>f(u.address)===f(P)&&u.topics[0].endsWith("f523b3ef")&&f(u.topics[2])===f(o.address)).length>0?(s.value+=100,setTimeout(()=>{s.from=s.value},1e3)):g.warning(l("mint.fail")))}catch(n){n.reason?g.error(n.reason):g.error(l("mint.fail"))}finally{b.value=!1}}}return O(async()=>{S(),c.totalDroped().then(o=>{a.value=Number(o)*100,setTimeout(()=>{a.from=a.value},1e3)}),c.on(c.getEvent("Droped"),(o,n)=>{const r=Number(n)*100;r>a.value&&(a.value=r,setTimeout(()=>{a.from=a.value},1e3))})}),R(()=>{c.off("Droped")}),(o,n)=>{const r=J,u=K,y=Q,h=W,m=q,I=X,k=Y,C=Z,N=ee;return U(),$("div",ie,[_("div",le,[_("div",null,[e(N,{class:"card",title:"Mint"},{default:t(()=>[e(C,{justify:"space-between",style:G({flexDirection:i(v)?"":"row-reverse"}),gutter:[10,10]},{default:t(()=>[e(h,{span:i(v)?24:12},{default:t(()=>[e(y,{direction:"vertical",fill:""},{default:t(()=>[_("div",null,[e(r,{value:a.value,"value-from":a.from,"animation-duration":1e3,"value-style":{fontSize:"14px",paddingLeft:"5px"},animation:"","show-group-separator":""},null,8,["value","value-from"]),d(" / 15,000,000")]),e(u,{size:"large","stroke-width":10,type:"circle",color:{"0%":"rgb(var(--primary-6))","100%":"rgb(var(--success-6))"},percent:x.value,style:{zoom:1.5}},null,8,["color","percent"])]),_:1})]),_:1},8,["span"]),e(h,{span:i(v)?24:12},{default:t(()=>[e(y,{direction:"vertical",fill:""},{default:t(()=>[e(I,{column:1},{default:t(()=>[e(m,{label:i(l)("mint.total")},{default:t(()=>[d(" 21,000,000 ")]),_:1},8,["label"]),e(m,{label:i(l)("mint.price")},{default:t(()=>[d(" 0.002 BNB ")]),_:1},8,["label"]),e(m,{label:i(l)("mint.tokennum")},{default:t(()=>[d(" 100 ")]),_:1},8,["label"]),e(m,{label:i(l)("mint.balance")},{default:t(()=>[e(r,{value:s.value,"value-from":s.from,"animation-duration":1e3,"value-style":{fontSize:"14px",paddingLeft:"5px"},animation:"","show-group-separator":""},null,8,["value","value-from"])]),_:1},8,["label"])]),_:1}),e(k,{long:"",type:"primary",status:"success",loading:b.value,disabled:x.value===1,onClick:D},{default:t(()=>[d(H(i(l)("mint.mintbtn")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["span"])]),_:1},8,["style"])]),_:1})]),ce])])}}});const he=ne(ue,[["__scopeId","data-v-803121bf"]]);export{he as default};
